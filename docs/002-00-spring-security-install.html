<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-27T16:32:46.179336"><title>Module 1 / Chapitre 2 : Installation et Configuration de Base | Spring Security</title><script type="application/json" id="virtual-toc-data">[{"id":"l-essentiel","level":0,"title":"L\u0027essentiel","anchor":"#l-essentiel"},{"id":"pour-aller-plus-loin","level":0,"title":"Pour aller plus loin","anchor":"#pour-aller-plus-loin"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Module 1 / Chapitre 2 : Installation et Configuration de Base | Spring Security"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Spring Security Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/002-00-spring-security-install.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Module 1 / Chapitre 2 : Installation et Configuration de Base | Spring Security"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/002-00-spring-security-install.html#webpage",
    "url": "writerside-documentation/002-00-spring-security-install.html",
    "name": "Module 1 / Chapitre 2 : Installation et Configuration de Base | Spring Security",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Spring Security Help"
}</script><!-- End Schema.org --></head><body data-id="002-00-spring-security-install" data-main-title="Module 1 / Chapitre 2 : Installation et Configuration de Base" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Spring Security  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="002-00-spring-security-install" id="002-00-spring-security-install.md">Module 1 / Chapitre 2 : Installation et Configuration de Base</h1><section class="chapter"><h2 id="l-essentiel" data-toc="l-essentiel">L'essentiel</h2><section class="chapter"><h3 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h3><p id="-avaxpr_11">&Agrave; la fin de ce chapitre, vous serez en mesure de :</p><ul class="list _bullet" id="-avaxpr_12"><li class="list__item" id="-avaxpr_13"><p id="-avaxpr_17"><span class="control" id="-avaxpr_18">Int&eacute;grer</span> Spring Security dans un projet Spring Boot existant.</p></li><li class="list__item" id="-avaxpr_14"><p id="-avaxpr_19"><span class="control" id="-avaxpr_20">D&eacute;crire</span> le comportement par d&eacute;faut de Spring Security apr&egrave;s son ajout.</p></li><li class="list__item" id="-avaxpr_15"><p id="-avaxpr_21"><span class="control" id="-avaxpr_22">Expliquer</span> le concept de cha&icirc;ne de filtres (SecurityFilterChain) &agrave; un haut niveau.</p></li><li class="list__item" id="-avaxpr_16"><p id="-avaxpr_23"><span class="control" id="-avaxpr_24">Personnaliser</span> les informations d'identification de base via le fichier de configuration.</p></li></ul></section><section class="chapter"><h3 id="introduction-le-garde-du-corps-instantan" data-toc="introduction-le-garde-du-corps-instantan">Introduction : Le Garde du Corps Instantan&eacute;</h3><p id="-avaxpr_25">Dans le chapitre pr&eacute;c&eacute;dent, nous avons con&ccedil;u les plans de notre forteresse. Aujourd'hui, nous embauchons notre premier garde. Et vous allez voir, ce garde est incroyablement efficace d&egrave;s son arriv&eacute;e !</p><p id="-avaxpr_26">Imaginez que vous puissiez s&eacute;curiser les acc&egrave;s de votre application en ajoutant une seule ligne dans un fichier de configuration. C'est presque aussi simple que &ccedil;a avec Spring Boot et Spring Security. L'&eacute;cosyst&egrave;me Spring est con&ccedil;u sur le principe de la <span class="control" id="-avaxpr_28">convention plut&ocirc;t que de la configuration</span>. Cela signifie qu'il prend des d&eacute;cisions intelligentes pour vous, en appliquant des r&eacute;glages par d&eacute;faut s&eacute;curis&eacute;s et sens&eacute;s.</p><p id="-avaxpr_27">Dans ce chapitre, nous allons ajouter ce &quot;garde du corps instantan&eacute;&quot; &agrave; notre projet et observer son travail. Vous serez surpris de voir &agrave; quel point votre application devient plus s&ucirc;re en quelques minutes seulement.</p></section><section class="chapter"><h3 id="int-gration-de-spring-security-dans-un-projet-spring-boot" data-toc="int-gration-de-spring-security-dans-un-projet-spring-boot">Int&eacute;gration de Spring Security dans un projet Spring Boot</h3><p id="-avaxpr_29">Pour mettre en place Spring Security, la premi&egrave;re &eacute;tape est d'ajouter la d&eacute;pendance <code class="code" id="-avaxpr_34">spring-boot-starter-security</code> &agrave; votre projet Maven (ou Gradle).</p><p id="-avaxpr_30">Dans votre fichier <code class="code" id="-avaxpr_35">pom.xml</code>, ajoutez simplement ce bloc dans la section <code class="code" id="-avaxpr_36">&lt;dependencies&gt;</code>:</p><div class="code-block" data-lang="markup">

&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;
</div><p id="-avaxpr_32">C'est tout ! En ajoutant cette d&eacute;pendance, vous activez l'auto-configuration de Spring Security. D&egrave;s le prochain d&eacute;marrage de votre application, la s&eacute;curit&eacute; sera active.</p><aside class="prompt" data-type="tip" data-title="" id="-avaxpr_33"><p>Si vous cr&eacute;ez un nouveau projet via [start.spring.io](https://start.spring.io/), vous pouvez simplement cocher la case &quot;Spring Security&quot; dans la section des d&eacute;pendances.</p></aside></section><section class="chapter"><h3 id="la-magie-de-la-configuration-par-d-faut" data-toc="la-magie-de-la-configuration-par-d-faut">La magie de la configuration par d&eacute;faut</h3><p id="-avaxpr_37">Une fois la d&eacute;pendance ajout&eacute;e, que se passe-t-il exactement ? Spring Boot d&eacute;tecte la pr&eacute;sence de Spring Security et met en place une configuration de s&eacute;curit&eacute; par d&eacute;faut tr&egrave;s robuste.</p><p id="-avaxpr_38">Voici ce que vous obtenez &quot;gratuitement&quot; :</p><ol class="list _decimal" id="-avaxpr_39" type="1"><li class="list__item" id="-avaxpr_41"><p id="-avaxpr_46"><span class="control" id="-avaxpr_47">Tous les points d'acc&egrave;s (endpoints) de votre application sont prot&eacute;g&eacute;s.</span> Toute tentative d'acc&egrave;s &agrave; une URL de votre application n&eacute;cessitera une authentification.</p></li><li class="list__item" id="-avaxpr_42"><p id="-avaxpr_48"><span class="control" id="-avaxpr_49">Un formulaire de connexion est g&eacute;n&eacute;r&eacute; automatiquement.</span> Si vous essayez d'acc&eacute;der &agrave; une page via votre navigateur, vous serez automatiquement redirig&eacute; vers une page de connexion g&eacute;n&eacute;rique.</p></li><li class="list__item" id="-avaxpr_43"><p id="-avaxpr_50"><span class="control" id="-avaxpr_52">Un utilisateur <code class="code" id="-avaxpr_54">user</code> est cr&eacute;&eacute; en m&eacute;moire avec un mot de passe unique et s&eacute;curis&eacute;.</span> Ce mot de passe est g&eacute;n&eacute;r&eacute; &agrave; chaque d&eacute;marrage de l'application et <span class="control" id="-avaxpr_53">affich&eacute; dans la console</span>. Vous devrez le copier depuis les logs pour pouvoir vous connecter.</p><div class="code-block" data-lang="bash">
Using generated security password: a1b2c3d4-e5f6-7890-g1h2-i3j4k5l6m7n8
</div></li><li class="list__item" id="-avaxpr_44"><p id="-avaxpr_55"><span class="control" id="-avaxpr_56">Une protection contre les attaques CSRF est activ&eacute;e.</span> (Nous y reviendrons en d&eacute;tail au chapitre 5).</p></li><li class="list__item" id="-avaxpr_45"><p id="-avaxpr_57"><span class="control" id="-avaxpr_58">Des en-t&ecirc;tes de s&eacute;curit&eacute; HTTP de base sont ajout&eacute;s</span> (tels que X-Content-Type-Options, X-XSS-Protection, Cache-Control...).</p></li></ol><p id="-avaxpr_40">C'est le principe de <span class="control" id="-avaxpr_59">&quot;Secure by Default&quot;</span> (S&eacute;curis&eacute; par d&eacute;faut). Il vaut mieux avoir une s&eacute;curit&eacute; trop stricte au d&eacute;part et la rel&acirc;cher au besoin, plut&ocirc;t que l'inverse.</p></section><section class="chapter"><h3 id="architecture-la-cha-ne-de-filtres" data-toc="architecture-la-cha-ne-de-filtres">Architecture : La Cha&icirc;ne de Filtres</h3><p id="-avaxpr_60">Comment Spring Security arrive-t-il &agrave; intercepter toutes les requ&ecirc;tes ? Il utilise un concept central de l'API Servlet Java : les <span class="control" id="-avaxpr_66">filtres</span>.</p><p id="-avaxpr_61">Imaginez une cha&icirc;ne de gardes post&eacute;s &agrave; l'entr&eacute;e de votre application. Chaque requ&ecirc;te doit passer devant chaque garde.</p><ul class="list _bullet" id="-avaxpr_62"><li class="list__item" id="-avaxpr_67"><p id="-avaxpr_72">Le premier garde v&eacute;rifie si la session existe.</p></li><li class="list__item" id="-avaxpr_68"><p id="-avaxpr_73">Le deuxi&egrave;me g&egrave;re l'authentification.</p></li><li class="list__item" id="-avaxpr_69"><p id="-avaxpr_74">Le troisi&egrave;me v&eacute;rifie les autorisations (r&ocirc;les).</p></li><li class="list__item" id="-avaxpr_70"><p id="-avaxpr_75">Le quatri&egrave;me ajoute des en-t&ecirc;tes de s&eacute;curit&eacute; &agrave; la r&eacute;ponse.</p></li><li class="list__item" id="-avaxpr_71"><p id="-avaxpr_76">Et ainsi de suite...</p></li></ul><p id="-avaxpr_63">Cette cha&icirc;ne est appel&eacute;e la <span class="control" id="-avaxpr_77"><code class="code" id="-avaxpr_78">SecurityFilterChain</code></span>.</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="289px" preserveAspectRatio="none" style="width:1341px;height:289px;background:#FFFFFF;" version="1.1" viewBox="0 0 1341 289" width="1341px" zoomAndPan="magnify"><defs/><g><!--cluster Application Spring--><g id="cluster_Application Spring"><path d="M259.7616,79.08 L391.7616,79.08 A5.25,5.25 0 0 1 395.2616,82.58 L402.2616,101.5683 L1054.7616,101.5683 A3.5,3.5 0 0 1 1058.2616,105.0683 L1058.2616,278.56 A3.5,3.5 0 0 1 1054.7616,282.06 L259.7616,282.06 A3.5,3.5 0 0 1 256.2616,278.56 L256.2616,82.58 A3.5,3.5 0 0 1 259.7616,79.08 " fill="none" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="256.2616" x2="402.2616" y1="101.5683" y2="101.5683"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="133" x="260.2616" y="94.6152">Application Spring</text></g><!--cluster filterChain--><g id="cluster_filterChain"><rect fill="none" height="119.98" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="596" x="288.2616" y="130.08"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="235" x="468.7616" y="145.6152">Cha&#238;ne de Filtres Spring Security</text></g><!--entity controller--><g id="elem_controller"><rect fill="#F1F1F1" height="36.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="911.7616" y="181.33"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="921.7616" y="204.8652">Votre Controller</text></g><!--entity f1--><g id="elem_f1"><rect fill="#F1F1F1" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="311.7616" y="173.08"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="321.7616" y="196.6152">Filtre 1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="321.7616" y="213.1034">(Ex: Session)</text></g><!--entity f2--><g id="elem_f2"><rect fill="#F1F1F1" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="453.2616" y="173.08"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="463.2616" y="196.6152">Filtre 2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="463.2616" y="213.1034">(Ex: Auth)</text></g><!--entity f3--><g id="elem_f3"><rect fill="#F1F1F1" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="576.2616" y="173.08"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="586.2616" y="196.6152">Filtre 3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="586.2616" y="213.1034">(Ex: CSRF)</text></g><!--entity fN--><g id="elem_fN"><rect fill="#F1F1F1" height="52.9766" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="701.2616" y="173.08"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="711.2616" y="196.6152">Filtre N</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="711.2616" y="213.1034">(Ex: Autorisation)</text></g><!--entity client--><g id="elem_client"><path d="M14.6604,186.1559 C17.2255,180.1193 21.1956,179.5386 26.0381,183.5865 C29.534,178.7822 34.6956,177.6507 37.6667,184.1275 C39.4817,178.7623 44.0423,178.537 47.5039,182.3656 C51.0626,178.3378 56.8032,178.0081 58.7009,184.1876 C62.1392,179.4145 66.4675,178.2658 70.0214,184.064 C74.5355,178.5906 78.0502,179.1311 81.3459,185.2538 C90.4738,187.9151 93.8515,192.2756 88.6841,201.4242 C94.4273,208.388 90.1498,215.7092 82.2131,216.9837 C80.0733,222.4235 76.0835,223.9423 71.3823,219.9135 C68.2031,225.5222 63.8474,226.2554 59.3189,221.4813 C57.7925,227.605 53.7376,230.3058 47.9822,226.1413 C42.8055,230.1799 39.0674,227.9487 37.8923,222.07 C32.5517,226.5015 28.0324,226.1182 25.1975,219.254 C21.1584,222.8361 17.0438,221.5507 15.3739,216.5442 C6.7869,212.8886 6.0338,206.0257 12.237,199.6275 C6,193.8209 6.494,189.3715 14.6604,186.1559 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="20.2616" y="204.8652">Internet</text></g><!--entity request--><g id="elem_request"><path d="M129.2616,186.33 L235.2616,186.33 C240.2616,186.33 240.2616,199.5741 240.2616,199.5741 C240.2616,199.5741 240.2616,212.8183 235.2616,212.8183 L129.2616,212.8183 C124.2616,212.8183 124.2616,199.5741 124.2616,199.5741 C124.2616,199.5741 124.2616,186.33 129.2616,186.33 " fill="#FF6347" style="stroke:#454645;stroke-width:1.5;"/><path d="M235.2616,186.33 C230.2616,186.33 230.2616,199.5741 230.2616,199.5741 C230.2616,212.8183 235.2616,212.8183 235.2616,212.8183 " fill="none" style="stroke:#454645;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="129.2616" y="204.8652">Requ&#234;te HTTP</text></g><g id="elem_GMN17"><path d="M1077.7616,167.45 L1077.7616,231.6922 A3.5,3.5 0 0 0 1081.2616,235.1922 L1331.2616,235.1922 A3.5,3.5 0 0 0 1334.7616,231.6922 L1334.7616,173.95 L1324.7616,163.95 L1081.2616,163.95 A3.5,3.5 0 0 0 1077.7616,167.45 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M1324.7616,163.95 L1324.7616,172.2 A1.75,1.75 0 0 0 1326.5116,173.95 L1334.7616,173.95 L1324.7616,163.95 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.0;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="1083.7616" y="181.5184">Chaque requ&#234;te traverse cette cha&#238;ne.</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="1083.7616" y="196.8289">Si un filtre rejette la requ&#234;te</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="1083.7616" y="212.1395">(ex: authentification &#233;chou&#233;e),</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="1083.7616" y="227.45">elle n'atteint jamais le contr&#244;leur.</text></g><!--link client to request--><g id="link_client_request"><path d="M89.7116,199.57 C101.1616,199.57 106.6116,199.57 118.0616,199.57 " fill="none" id="client-to-request" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="124.0616,199.57,115.0616,195.57,119.0616,199.57,115.0616,203.57,124.0616,199.57" style="stroke:#454645;stroke-width:1.0;"/></g><!--link request to f1--><g id="link_request_f1"><path d="M240.5216,199.57 C264.2316,199.57 281.9516,199.57 305.6616,199.57 " fill="none" id="request-to-f1" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="311.6616,199.57,302.6616,195.57,306.6616,199.57,302.6616,203.57,311.6616,199.57" style="stroke:#454645;stroke-width:1.0;"/></g><!--link f1 to f2--><g id="link_f1_f2"><path d="M419.1416,199.57 C430.4316,199.57 435.7216,199.57 447.0116,199.57 " fill="none" id="f1-to-f2" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="453.0116,199.57,444.0116,195.57,448.0116,199.57,444.0116,203.57,453.0116,199.57" style="stroke:#454645;stroke-width:1.0;"/></g><!--link f2 to f3--><g id="link_f2_f3"><path d="M541.3416,199.57 C552.8916,199.57 558.4416,199.57 569.9916,199.57 " fill="none" id="f2-to-f3" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="575.9916,199.57,566.9916,195.57,570.9916,199.57,566.9916,203.57,575.9916,199.57" style="stroke:#454645;stroke-width:1.0;"/></g><!--link f3 to fN--><g id="link_f3_fN"><path d="M666.6716,199.57 C678.1116,199.57 683.5516,199.57 694.9916,199.57 " fill="none" id="f3-to-fN" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="700.9916,199.57,691.9916,195.57,695.9916,199.57,691.9916,203.57,700.9916,199.57" style="stroke:#454645;stroke-width:1.0;"/></g><!--link fN to controller--><g id="link_fN_controller"><path d="M777.7316,172.87 C788.3616,135.61 813.4416,69.41 862.7616,41.08 C923.8416,6 959.7112,126.0906 971.6412,175.0506 " fill="none" id="fN-to-controller" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="973.0616,180.88,974.8172,171.1889,971.8779,176.0221,967.0447,173.0828,973.0616,180.88" style="stroke:#454645;stroke-width:1.0;"/></g><!--link filterChain to GMN17--><g id="link_filterChain_GMN17"><path d="M863.6581,129.4237 C863.6455,129.1593 863.6333,128.8947 863.6216,128.63 C862.1266,94.7425 868.3866,57.955 897.7616,41.08 C952.8716,9.43 981.7816,17.4 1040.7616,41.08 C1102.0416,65.69 1153.4416,125.03 1182.0016,163.7 " fill="none" id="filterChain-GMN17" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[VPAnJXmn48PxFyLa6q02fBlhKaH29n0q9yIYL3IER_RMu1ilup428Hw855HvWtsnpFes6qHnRZosltyy_iVVfCKjmfF_nPR4f0TFdMMx1HUtNIGagUKb830wiRG9Q8mBCQ-XkY919fGAR08NlABcCMD6g6xmCVU_1U7ozlQwdBFkO19ZEkiUx4QPiwuBtbdnaQ3ksDEcWbS3EgQhe5gsjlyWX3N2XG_2c4OMQdIPlRoKx8sU8IliQSmnZEa5KEt4CBkZm_FdxofEIUyzsebdUnJpKN6MfHtn-HvyCUBB-kPYn1TxyDN_x95zAcQCibMHlNqrv6SSTCj8mZ44v9tvqzAy3UqPMW4dFoRJntdOqiSsinBCJJClmS8qYnAiJBCQWa_f34Nj8ljDAn2RppvhOJfhtd9BQRQmVK9E20v5bsxNkrCbQm-PYfe7_hwS1pj95Jb4zS6gorgxR_vzZFxTjJ7txtXqh0ngJK07LjLUNtXljzOdqBrISVydOEPJWxI6eUo_]--></g></svg></div><p id="-avaxpr_65">Par d&eacute;faut, Spring Boot configure une <code class="code" id="-avaxpr_79">SecurityFilterChain</code> avec tous les filtres essentiels. Dans les chapitres suivants, nous apprendrons &agrave; personnaliser cette cha&icirc;ne, &agrave; ajouter nos propres filtres ou &agrave; en modifier le comportement.</p></section><section class="chapter"><h3 id="personnalisation-de-base-via-application-properties" data-toc="personnalisation-de-base-via-application-properties">Personnalisation de base via <code class="code" id="-avaxpr_88">application.properties</code></h3><p id="-avaxpr_81">Le mot de passe g&eacute;n&eacute;r&eacute; dans la console est pratique pour un test rapide, mais peu commode pour le d&eacute;veloppement au quotidien.</p><p id="-avaxpr_82">La premi&egrave;re &eacute;tape de personnalisation consiste souvent &agrave; d&eacute;finir un utilisateur statique avec un mot de passe fixe dans votre fichier <code class="code" id="-avaxpr_89">application.properties</code> (ou <code class="code" id="-avaxpr_90">application.yml</code>).</p><p id="-avaxpr_83">Ouvrez le fichier <code class="code" id="-avaxpr_91">src/main/resources/application.properties</code> et ajoutez ces lignes :</p><div class="code-block" data-lang="properties">
# Définit un utilisateur statique avec un nom et un mot de passe
# Attention : ne jamais utiliser cette méthode en production !
spring.security.user.name=admin
spring.security.user.password=password123
# On peut aussi définir des rôles
# spring.security.user.roles=ADMIN,USER
</div><aside class="prompt" data-type="warning" data-title="" id="-avaxpr_85"><p>Cette m&eacute;thode est tr&egrave;s pratique pour le d&eacute;veloppement et les tests, mais **elle ne doit JAMAIS &ecirc;tre utilis&eacute;e en production**. Les informations d'identification ne doivent jamais &ecirc;tre stock&eacute;es en clair dans les fichiers de configuration. Nous verrons comment utiliser une base de donn&eacute;es d&egrave;s le chapitre 6.</p></aside><p id="-avaxpr_86">Au prochain d&eacute;marrage, le mot de passe ne sera plus g&eacute;n&eacute;r&eacute;. Vous pourrez vous connecter avec l'utilisateur <code class="code" id="-avaxpr_92">admin</code> et le mot de passe <code class="code" id="-avaxpr_93">password123</code>.</p></section></section><section class="chapter"><h2 id="pour-aller-plus-loin" data-toc="pour-aller-plus-loin">Pour aller plus loin</h2><section class="chapter"><h3 id="mise-en-place-du-projet-fil-rouge-taskmaster" data-toc="mise-en-place-du-projet-fil-rouge-taskmaster">Mise en place du projet &quot;fil rouge&quot; : TaskMaster</h3><p id="-avaxpr_99">La th&eacute;orie c'est bien, la pratique c'est mieux ! Pour la suite de ce cours, nous allons travailler sur un projet concret que nous appellerons <span class="control" id="-avaxpr_105">TaskMaster</span>. Il s'agit d'une petite application de gestion de projets et de t&acirc;ches.</p><p id="-avaxpr_100">Nous allons maintenant cr&eacute;er la structure de ce projet. Cela nous servira de base pour tous les exercices &agrave; venir.</p><section class="chapter"><h4 id="tape-1-le-pom-xml-complet" data-toc="tape-1-le-pom-xml-complet">&Eacute;tape 1 : Le <code class="code" id="-avaxpr_109">pom.xml</code> complet</h4><p id="-avaxpr_107">Voici le <code class="code" id="-avaxpr_110">pom.xml</code> de base pour notre projet. Il inclut le Web, la persistance des donn&eacute;es (JPA), une base de donn&eacute;es en m&eacute;moire (H2) et bien s&ucirc;r, Spring Security.</p><div class="code-block" data-lang="markup">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
         https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;3.2.5&lt;/version&gt; &lt;!-- ou une version plus récente --&gt;
        &lt;relativePath/&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;fr.formation.spring&lt;/groupId&gt;
    &lt;artifactId&gt;taskmaster&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;taskmaster&lt;/name&gt;
    &lt;description&gt;Projet fil rouge pour le cours Spring Security&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</div></section><section class="chapter"><h4 id="tape-2-les-entit-s-jpa" data-toc="tape-2-les-entit-s-jpa">&Eacute;tape 2 : Les entit&eacute;s JPA</h4><p id="-avaxpr_111">Cr&eacute;ons nos mod&egrave;les de donn&eacute;es. Nous aurons des utilisateurs (<code class="code" id="-avaxpr_117">User</code>), des projets (<code class="code" id="-avaxpr_118">Project</code>) et des t&acirc;ches (<code class="code" id="-avaxpr_119">Task</code>).</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="572px" preserveAspectRatio="none" style="width:327px;height:572px;background:#FFFFFF;" version="1.1" viewBox="0 0 327 572" width="327px" zoomAndPan="magnify"><defs/><g><!--class User--><g id="elem_User"><rect codeLine="4" fill="#F1F1F1" height="130.4414" id="User" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="137.5" y="7"/><ellipse cx="187.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M190.2231,28.6431 Q189.6421,28.9419 189.0029,29.0913 Q188.3638,29.2407 187.6582,29.2407 Q185.1514,29.2407 183.8315,27.5889 Q182.5117,25.937 182.5117,22.8159 Q182.5117,19.6865 183.8315,18.0347 Q185.1514,16.3828 187.6582,16.3828 Q188.3638,16.3828 189.0112,16.5322 Q189.6587,16.6816 190.2231,16.9805 L190.2231,19.7031 Q189.5923,19.1221 188.9988,18.8523 Q188.4053,18.5825 187.7744,18.5825 Q186.4297,18.5825 185.7449,19.6492 Q185.0601,20.7158 185.0601,22.8159 Q185.0601,24.9077 185.7449,25.9744 Q186.4297,27.041 187.7744,27.041 Q188.4053,27.041 188.9988,26.7712 Q189.5923,26.5015 190.2231,25.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="207.75" y="28.291">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="138.5" x2="275.5" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="145.5" y="49.7441"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="157.5" y="56.5352">Long id</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="145.5" y="66.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="157.5" y="73.0234">String username</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="145.5" y="82.7207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="157.5" y="89.5117">String password</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="145.5" y="99.209"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="157.5" y="106">String email</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="145.5" y="115.6973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="157.5" y="122.4883">String role</text><line style="stroke:#181818;stroke-width:0.5;" x1="138.5" x2="275.5" y1="129.4414" y2="129.4414"/></g><!--class Project--><g id="elem_Project"><rect codeLine="12" fill="#F1F1F1" height="97.4648" id="Project" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="7" y="254"/><ellipse cx="53.25" cy="270" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M56.2231,275.6431 Q55.6421,275.9419 55.0029,276.0913 Q54.3638,276.2407 53.6582,276.2407 Q51.1514,276.2407 49.8315,274.5889 Q48.5117,272.937 48.5117,269.8159 Q48.5117,266.6865 49.8315,265.0347 Q51.1514,263.3828 53.6582,263.3828 Q54.3638,263.3828 55.0112,263.5322 Q55.6587,263.6816 56.2231,263.9805 L56.2231,266.7031 Q55.5923,266.1221 54.9988,265.8523 Q54.4053,265.5825 53.7744,265.5825 Q52.4297,265.5825 51.7449,266.6492 Q51.0601,267.7158 51.0601,269.8159 Q51.0601,271.9077 51.7449,272.9744 Q52.4297,274.041 53.7744,274.041 Q54.4053,274.041 54.9988,273.7712 Q55.5923,273.5015 56.2231,272.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="73.75" y="275.291">Project</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="154" y1="286" y2="286"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="296.7441"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="27" y="303.5352">Long id</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="313.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="27" y="320.0234">String name</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="329.7207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="27" y="336.5117">String description</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="154" y1="343.4648" y2="343.4648"/></g><!--class Task--><g id="elem_Task"><rect codeLine="18" fill="#F1F1F1" height="97.4648" id="Task" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="109" y="468"/><ellipse cx="145.6" cy="484" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M148.5731,489.6431 Q147.9921,489.9419 147.3529,490.0913 Q146.7138,490.2407 146.0082,490.2407 Q143.5014,490.2407 142.1815,488.5889 Q140.8617,486.937 140.8617,483.8159 Q140.8617,480.6865 142.1815,479.0347 Q143.5014,477.3828 146.0082,477.3828 Q146.7138,477.3828 147.3612,477.5322 Q148.0087,477.6816 148.5731,477.9805 L148.5731,480.7031 Q147.9423,480.1221 147.3488,479.8523 Q146.7553,479.5825 146.1244,479.5825 Q144.7797,479.5825 144.0949,480.6492 Q143.4101,481.7158 143.4101,483.8159 Q143.4101,485.9077 144.0949,486.9744 Q144.7797,488.041 146.1244,488.041 Q146.7553,488.041 147.3488,487.7712 Q147.9423,487.5015 148.5731,486.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="164.4" y="489.291">Task</text><line style="stroke:#181818;stroke-width:0.5;" x1="110" x2="220" y1="500" y2="500"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="117" y="510.7441"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="129" y="517.5352">Long id</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="117" y="527.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="129" y="534.0234">String title</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="117" y="543.7207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="129" y="550.5117">String status</text><line style="stroke:#181818;stroke-width:0.5;" x1="110" x2="220" y1="557.4648" y2="557.4648"/></g><!--link User to Project--><g id="link_User_Project"><path codeLine="24" d="M171.73,136.95 C151.2,174.19 125.76,220.32 107.05,254.26 " fill="none" id="User-Project" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#000000" points="146.5858,200.0338,153.5268,193.532,148.3794,190.6939,146.5858,200.0338" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="158" y="200.5684">owns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="158.8311" y="158.1895">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="87.3545" y="243.2814">0..*</text></g><!--link Project to Task--><g id="link_Project_Task"><path codeLine="25" d="M99.75,350.81 C113.62,385.84 132.45,433.34 146.31,468.33 " fill="none" id="Project-Task" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#000000" points="132.3617,414.3037,131.7624,404.8121,126.2978,406.9771,132.3617,414.3037" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="139.52" y="414.5684">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="100.4156" y="372.3089">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="119.7637" y="457.3621">0..*</text></g><!--link User to Task--><g id="link_User_Task"><path codeLine="26" d="M213.05,136.96 C218.08,206.75 221.74,321.42 203,418 C199.71,434.94 193.63,452.74 187.28,468.42 " fill="none" id="User-Task" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#000000" points="221.7124,307.6402,225.3436,298.8502,219.4835,298.3946,221.7124,307.6402" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="231.1" y="307.5684">is assigned to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="205.8956" y="158.2036">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="167.0778" y="457.118">0..*</text></g><!--SRC=[TOyn3i8m34NtdC9aH6e5AmCdO4023X1IgnZIf8fTEY3kJbfKQ17TxE_d_-s5NB12kDCv6YzAMMUOuSGOuQ40CjW5Nm8LVNsGIAbhqjIR2iTQdTRQ42SSLeRSM8Z1eNeE8ViOhcXbFkSteq2saMgXuBykHyEtUGiXSHCF5YCDT-lzZtgj8Sj0h_9ygJyNRK27rZDijHgaATY79ie6BuRUv1-_0IE6T2gL7WkGqC4l]--></g></svg></div><p id="-avaxpr_113"><span class="control" id="-avaxpr_120"><code class="code" id="-avaxpr_121">fr/formation/spring/taskmaster/model/User.java</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.taskmaster.model;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.Table;

@Entity
@Table(name = &quot;users&quot;) // &quot;user&quot; est un mot-clé réservé en SQL
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String username;
    private String password;
    private String email;
    private String role; // Ex: &quot;ROLE_USER&quot;, &quot;ROLE_ADMIN&quot;

    // Constructeurs, Getters, Setters...
}
</div><p id="-avaxpr_115"><span class="control" id="-avaxpr_122"><code class="code" id="-avaxpr_123">fr/formation/spring/taskmaster/model/Project.java</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.taskmaster.model;

import jakarta.persistence.*;

@Entity
public class Project {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;owner_id&quot;)
    private User owner;

    // Constructeurs, Getters, Setters...
}
</div></section><section class="chapter"><h4 id="tape-3-les-repositories" data-toc="tape-3-les-repositories">&Eacute;tape 3 : Les Repositories</h4><p id="-avaxpr_124">Cr&eacute;ons les interfaces Spring Data JPA pour interagir avec la base de donn&eacute;es.</p><p id="-avaxpr_125"><span class="control" id="-avaxpr_128"><code class="code" id="-avaxpr_129">fr/formation/spring/taskmaster/repository/UserRepository.java</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.taskmaster.repository;

import fr.formation.spring.taskmaster.model.User;
import org.springframework.data.jpa.repository.JpaRepository;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // Nous ajouterons des méthodes personnalisées ici plus tard
}
</div><p id="-avaxpr_127"><span class="emphasis" id="-avaxpr_130">(Cr&eacute;ez de m&ecirc;me <code class="code" id="-avaxpr_131">ProjectRepository</code> et <code class="code" id="-avaxpr_132">TaskRepository</code>)</span></p></section><section class="chapter"><h4 id="tape-4-le-fichier-de-configuration-application-properties" data-toc="tape-4-le-fichier-de-configuration-application-properties">&Eacute;tape 4 : Le fichier de configuration <code class="code" id="-avaxpr_135">application.properties</code></h4><div class="code-block" data-lang="properties">
# Configuration de la source de données pour H2
spring.datasource.url=jdbc:h2:mem:taskmasterdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
# Permet d'accéder à la console H2 via http://localhost:8080/h2-console
spring.h2.console.enabled=true
# Configuration JPA
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Affiche les requêtes SQL dans la console (pratique pour le débug)
spring.jpa.show-sql=true
# Crée/met à jour le schéma de la base au démarrage
spring.jpa.hibernate.ddl-auto=update
</div></section></section><section class="chapter"><h3 id="exercice-2-premi-re-s-curisation" data-toc="exercice-2-premi-re-s-curisation">Exercice 2 : Premi&egrave;re s&eacute;curisation</h3><section class="procedure-steps"><h3 id="exercice-1-2" data-toc="exercice-1-2">Mise en place et premier test de sécurité</h3><p id="-avaxpr_137">L'objectif de cet exercice est de mettre en place le projet <b id="-avaxpr_139">TaskMaster</b> et de constater par vous-m&ecirc;me les effets de Spring Security.</p><ol class="list _decimal" id="-avaxpr_138" type="1"><li class="list__item" id="-avaxpr_140"><p>Cr&eacute;ez un nouveau projet Spring Boot en utilisant le <code class="code" id="-avaxpr_148">pom.xml</code> fourni.</p></li><li class="list__item" id="-avaxpr_141"><p>Cr&eacute;ez les packages et les classes pour les entit&eacute;s et les repositories comme d&eacute;crits ci-dessus. (Ne vous souciez pas des getters/setters pour l'instant, votre IDE peut les g&eacute;n&eacute;rer. L'important est d'avoir la structure).</p></li><li class="list__item" id="-avaxpr_142"><p>Cr&eacute;ez un simple contr&ocirc;leur REST pour pouvoir tester un endpoint. </p><p id="-avaxpr_149"><b id="-avaxpr_151">`fr/formation/spring/taskmaster/controller/ProjectController.java`</b></p><div class="code-block" data-lang="java">
        package fr.formation.spring.taskmaster.controller;

        import org.springframework.web.bind.annotation.GetMapping;
        import org.springframework.web.bind.annotation.RequestMapping;
        import org.springframework.web.bind.annotation.RestController;

        import java.util.Collections;
        import java.util.List;

        @RestController
        @RequestMapping(&quot;/api/projects&quot;)
        public class ProjectController {

            @GetMapping
            public List getProjects() {
                // Pour l'instant, on renvoie une liste factice
                return Collections.singletonList(&quot;Projet Alpha&quot;);
            }
        }
</div></li><li class="list__item" id="-avaxpr_143"><p>Lancez l'application.</p></li><li class="list__item" id="-avaxpr_144"><p>Ouvrez votre navigateur et allez &agrave; l'adresse <a href="http://localhost:8080/api/projects" id="-avaxpr_153" data-external="true" rel="noopener noreferrer" target="_blank">http://localhost:8080/api/projects</a>. Observez ce qui se passe.</p></li><li class="list__item" id="-avaxpr_145"><p>Regardez la console de votre IDE, trouvez le mot de passe g&eacute;n&eacute;r&eacute; et utilisez-le pour vous connecter avec le nom d'utilisateur <code class="code" id="-avaxpr_154">user</code>.</p></li><li class="list__item" id="-avaxpr_146"><p>Arr&ecirc;tez l'application. Modifiez votre fichier <code class="code" id="-avaxpr_155">application.properties</code> pour d&eacute;finir un utilisateur <code class="code" id="-avaxpr_156">admin</code> avec le mot de passe <code class="code" id="-avaxpr_157">password123</code>.</p></li><li class="list__item" id="-avaxpr_147"><p>Relancez l'application et r&eacute;essayez de vous connecter.</p></li></ol><ol class="list _decimal"></ol></section></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-exercice-2" data-toc="correction-exercice-2">Correction exercice 2</h3></div><div class="collapse__content"><p id="-avaxpr_158">Si vous avez suivi les &eacute;tapes, voici ce que vous auriez d&ucirc; observer :</p><ol class="list _decimal" id="-avaxpr_159" type="1"><li class="list__item" id="-avaxpr_161"><p>Apr&egrave;s avoir lanc&eacute; l'application pour la premi&egrave;re fois, la console affiche un message similaire &agrave; : <code class="code" id="-avaxpr_166">Using generated security password: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code></p></li><li class="list__item" id="-avaxpr_162"><p>En acc&eacute;dant &agrave; <code class="code" id="-avaxpr_167">http://localhost:8080/api/projects</code> dans votre navigateur, vous n'obtenez pas la liste des projets. &Agrave; la place, vous &ecirc;tes redirig&eacute; vers <code class="code" id="-avaxpr_168">http://localhost:8080/login</code> et une page de connexion s'affiche. C'est la preuve que Spring Security a bien prot&eacute;g&eacute; votre endpoint.</p></li><li class="list__item" id="-avaxpr_163"><p>Sur la page de connexion, si vous entrez <code class="code" id="-avaxpr_169">user</code> comme nom d'utilisateur et le mot de passe copi&eacute; depuis la console, vous &ecirc;tes authentifi&eacute;. Vous &ecirc;tes ensuite redirig&eacute; vers l'URL d'origine (<code class="code" id="-avaxpr_170">/api/projects</code>) et votre navigateur affiche la r&eacute;ponse JSON : <code class="code" id="-avaxpr_171">[&quot;Projet Alpha&quot;]</code>.</p></li><li class="list__item" id="-avaxpr_164"><p>Apr&egrave;s avoir ajout&eacute; les lignes suivantes dans <code class="code" id="-avaxpr_172">application.properties</code>: <code class="code" id="-avaxpr_173">spring.security.user.name=admin spring.security.user.password=password123</code> et red&eacute;marr&eacute; l'application, le mot de passe n'est plus g&eacute;n&eacute;r&eacute; dans la console.</p></li><li class="list__item" id="-avaxpr_165"><p>En retournant sur <code class="code" id="-avaxpr_174">http://localhost:8080/api/projects</code>, vous &ecirc;tes &agrave; nouveau redirig&eacute; vers la page de connexion. Cette fois, vous devez utiliser <code class="code" id="-avaxpr_175">admin</code> et <code class="code" id="-avaxpr_176">password123</code> pour vous connecter. Le r&eacute;sultat est le m&ecirc;me : vous acc&eacute;dez &agrave; la ressource prot&eacute;g&eacute;e.</p></li></ol><p id="-avaxpr_160">Bravo ! Vous avez non seulement install&eacute; mais aussi pris le contr&ocirc;le de la configuration de s&eacute;curit&eacute; la plus basique de votre application.</p></div></div></section><section class="chapter"><h3 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h3><ol class="list _decimal" id="-avaxpr_177" type="1"><li class="list__item" id="-avaxpr_178"><p id="-avaxpr_183"><span class="control" id="-avaxpr_184">Question ouverte :</span> Qu'est-ce que le principe de &quot;Secure by Default&quot; et comment Spring Security l'applique-t-il lors de son installation ?</p></li><li class="list__item" id="-avaxpr_179"><p id="-avaxpr_185"><span class="control" id="-avaxpr_187">QCM :</span> Quelle d&eacute;pendance Maven devez-vous ajouter pour utiliser Spring Security ?</p><ul class="list _bullet" id="-avaxpr_186"><li class="list__item" id="-avaxpr_188"><p id="-avaxpr_192">a) <code class="code" id="-avaxpr_193">spring-boot-starter-web</code></p></li><li class="list__item" id="-avaxpr_189"><p id="-avaxpr_194">b) <code class="code" id="-avaxpr_195">spring-boot-starter-jpa</code></p></li><li class="list__item" id="-avaxpr_190"><p id="-avaxpr_196">c) <code class="code" id="-avaxpr_197">spring-boot-starter-security</code></p></li><li class="list__item" id="-avaxpr_191"><p id="-avaxpr_198">d) <code class="code" id="-avaxpr_199">spring-security-core</code></p></li></ul></li><li class="list__item" id="-avaxpr_180"><p id="-avaxpr_200"><span class="control" id="-avaxpr_202">QCM :</span> Par d&eacute;faut, apr&egrave;s avoir ajout&eacute; la d&eacute;pendance Spring Security, que se passe-t-il si vous essayez d'acc&eacute;der &agrave; un endpoint de votre application sans &ecirc;tre authentifi&eacute; ?</p><ul class="list _bullet" id="-avaxpr_201"><li class="list__item" id="-avaxpr_203"><p id="-avaxpr_207">a) Vous recevez une erreur 404 (Not Found).</p></li><li class="list__item" id="-avaxpr_204"><p id="-avaxpr_208">b) Vous recevez une erreur 403 (Forbidden).</p></li><li class="list__item" id="-avaxpr_205"><p id="-avaxpr_209">c) Vous &ecirc;tes redirig&eacute; vers une page de connexion.</p></li><li class="list__item" id="-avaxpr_206"><p id="-avaxpr_210">d) L'acc&egrave;s est autoris&eacute;.</p></li></ul></li><li class="list__item" id="-avaxpr_181"><p id="-avaxpr_211"><span class="control" id="-avaxpr_212">Question ouverte :</span> Expliquez bri&egrave;vement le r&ocirc;le de la <code class="code" id="-avaxpr_213">SecurityFilterChain</code>.</p></li><li class="list__item" id="-avaxpr_182"><p id="-avaxpr_214"><span class="control" id="-avaxpr_216">QCM :</span> Quelle est la mani&egrave;re la plus simple de d&eacute;finir un utilisateur et un mot de passe fixes pour le d&eacute;veloppement ?</p><ul class="list _bullet" id="-avaxpr_215"><li class="list__item" id="-avaxpr_217"><p id="-avaxpr_221">a) En modifiant le code source de Spring Security.</p></li><li class="list__item" id="-avaxpr_218"><p id="-avaxpr_222">b) En cr&eacute;ant une classe de configuration <code class="code" id="-avaxpr_223">WebSecurityConfigurerAdapter</code>.</p></li><li class="list__item" id="-avaxpr_219"><p id="-avaxpr_224">c) En ajoutant <code class="code" id="-avaxpr_225">spring.security.user.name</code> et <code class="code" id="-avaxpr_226">spring.security.user.password</code> dans <code class="code" id="-avaxpr_227">application.properties</code>.</p></li><li class="list__item" id="-avaxpr_220"><p id="-avaxpr_228">d) C'est impossible, on doit toujours utiliser le mot de passe g&eacute;n&eacute;r&eacute;.</p></li></ul></li></ol></section><section class="chapter"><h3 id="conclusion" data-toc="conclusion">Conclusion</h3><p id="-avaxpr_229">Vous avez franchi une &eacute;tape majeure ! Vous n'&ecirc;tes plus un simple spectateur, vous &ecirc;tes un acteur de la s&eacute;curit&eacute; de votre application. Vous avez vu avec quelle facilit&eacute; Spring Security met en place une premi&egrave;re ligne de d&eacute;fense solide. Vous avez appris &agrave; l'int&eacute;grer, observ&eacute; son comportement par d&eacute;faut, et m&ecirc;me effectu&eacute; votre premi&egrave;re personnalisation.</p><p id="-avaxpr_230">Cependant, un formulaire de connexion g&eacute;n&eacute;rique et un utilisateur en m&eacute;moire, c'est bien pour commencer, mais insuffisant pour une vraie application. Dans le prochain chapitre, nous allons prendre le contr&ocirc;le total du processus d'authentification. Nous allons cr&eacute;er notre propre formulaire de connexion et apprendre &agrave; g&eacute;rer plusieurs utilisateurs en m&eacute;moire. La personnalisation ne fait que commencer</p></section></section><div class="last-modified">15 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="default-topic.html" class="navigation-links__prev">Module 1 / Chapitre 1 : Introduction &agrave; la S&eacute;curit&eacute; et aux Enjeux Web</a><a href="003-00-authentication.html" class="navigation-links__next">Module 1 / Chapitre 3 : Authentification &ndash; Premiers Pas</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>